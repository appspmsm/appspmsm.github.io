(this["webpackJsonpapp-vacinas"]=this["webpackJsonpapp-vacinas"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(12),i=a.n(o);a(93),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,173)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),o(e),i(e)}))},r=a(36),l=a(11),j=a(7),d=a(149),u=a(146),b=a(148),p=a(56),h=a(155),O=a(150),m=a(167),v=a(143),x=a(156),f=a(2),g=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},buttonProgress:{color:"blue",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"}}}));var S=function(){var e=g(),t=Object(l.f)(),a=n.a.useState(!1),o=Object(j.a)(a,2),i=o[0],s=o[1],r=n.a.useState(),v=Object(j.a)(r,2),S=v[0],k=v[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("login"),a=localStorage.getItem("token");e&&a&&t.push("/selecao")}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(u.a,{position:"static",children:Object(f.jsx)(b.a,{children:Object(f.jsx)(p.a,{variant:"h6",className:e.title,children:"Vacinas"})})}),Object(f.jsxs)(d.a,{children:[Object(f.jsx)(O.a,{}),Object(f.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var a=e.target.elements.user.value,c=e.target.elements.password.value;if(k(null),!i){s(!0);var n=new URLSearchParams;n.append("login",a),n.append("password",c),n.append("type","doLogin"),fetch("https://script.google.com/macros/s/AKfycbxkQf1wEUKHZoB6kbYA_YPHOioUhUAPiW2ctj83G83iNhuvTT9eig_-R38xZkui8Fk_OA/exec",{method:"post",redirect:"follow",body:n}).then((function(e){return e.json().then((function(e){console.log(e),s(!1),e.success?(localStorage.setItem("login",a),localStorage.setItem("token",e.token),t.push("/selecao")):k(e.message)}))})).catch((function(e){console.log(e),s(!1),alert("N\xe3o foi poss\xedvel conectar ao servidor.")}))}},children:[Object(f.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"user",label:"Usu\xe1rio",name:"user",autoComplete:"user",autoFocus:!0,error:!!S}),Object(f.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",error:!!S,helperText:S||""}),Object(f.jsxs)("div",{className:e.wrapper,children:[Object(f.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:i,className:e.submit,children:"Entrar"}),i&&Object(f.jsx)(x.a,{size:24,className:e.buttonProgress})]})]})]})]})},k=a(63),w=a(169),C=a(161),N=a(166),y=a(168),D=a(160),P=a(153),A=a(164),L=a(171),U=a(157),B=a(158),T=a(159),I=Object(v.a)((function(e){return{title:{flexGrow:1}}}));var $=function(e){var t=I(),a=Object(c.useState)(!1),n=Object(j.a)(a,2),o=n[0],i=n[1],s=Object(c.useState)(!1),r=Object(j.a)(s,2),d=r[0],h=r[1],O=Object(l.f)();return Object(c.useEffect)((function(){e.backButton&&i(!0),e.logoutButton&&h(!0)}),[e.backButton,e.logoutButton]),Object(f.jsx)(u.a,{position:"static",children:Object(f.jsxs)(b.a,{children:[o?Object(f.jsx)(U.a,{edge:"start",color:"inherit","aria-label":"voltar",onClick:function(){O.goBack()},children:Object(f.jsx)(B.a,{})}):null,Object(f.jsx)(p.a,{variant:"h6",className:t.title,children:"Vacinas"}),d?Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{edge:"end",color:"inherit","aria-label":"sair",onClick:function(){localStorage.removeItem("token"),O.push("/")},children:Object(f.jsx)(T.a,{})})}):null]})})},_=Object(v.a)((function(e){return{stepper:{position:"fixed",bottom:0,width:"100%"},buttons:{position:"fixed",bottom:100,right:20},formControl:{margin:e.spacing(1),minWidth:200},buttonConfirmar:{position:"fixed",bottom:100,left:"50%",width:120,"margin-left":"-60px"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var G=function(e){var t=_(),a=n.a.useState(0),o=Object(j.a)(a,2),i=o[0],s=o[1],r=["Selecione o grupo","Selecione a vacina","Selecione o lote"],u=n.a.useState(""),b=Object(j.a)(u,2),p=b[0],m=b[1],v=n.a.useState(""),g=Object(j.a)(v,2),S=g[0],U=g[1],B=n.a.useState(""),T=Object(j.a)(B,2),I=T[0],G=T[1],E=n.a.useState([]),F=Object(j.a)(E,2),V=F[0],H=F[1],R=n.a.useState([]),W=Object(j.a)(R,2),K=W[0],Y=W[1],Z=n.a.useState([]),z=Object(j.a)(Z,2),Q=z[0],q=z[1],J=n.a.useState(!1),M=Object(j.a)(J,2),X=M[0],ee=M[1],te=[p,S,I],ae=Object(l.f)();Object(c.useEffect)((function(){var e=localStorage.getItem("token");if(e){ee(!0);var t=new URLSearchParams;t.append("token",e),t.append("type","getGrupoVacinaLote"),fetch("https://script.google.com/macros/s/AKfycbxkQf1wEUKHZoB6kbYA_YPHOioUhUAPiW2ctj83G83iNhuvTT9eig_-R38xZkui8Fk_OA/exec",{method:"post",redirect:"follow",body:t}).then((function(e){return e.json().then((function(e){console.log(e),ee(!1),e.success?(H(e.grupos),Y(e.vacinas),q(e.lotes)):(localStorage.removeItem("token"),ae.push("/"))}))})).catch((function(e){console.log(e),ee(!1),alert("N\xe3o foi poss\xedvel conectar ao servidor.")}))}else ae.push("/")}),[]);var ce=function(e){m(e.target.value)},ne=function(e){U(e.target.value)},oe=function(e){G(e.target.value)};return Object(f.jsxs)("div",{children:[Object(f.jsx)(L.a,{className:t.backdrop,open:X,children:Object(f.jsx)(x.a,{color:"inherit"})}),Object(f.jsx)(O.a,{}),Object(f.jsx)($,{logoutButton:!0}),i===r.length?Object(f.jsxs)(d.a,{children:[Object(f.jsxs)("p",{children:["Grupo: ",p]}),Object(f.jsxs)("p",{children:["Vacina: ",S]}),Object(f.jsxs)("p",{children:["Lote: ",I]}),Object(f.jsx)("div",{className:t.centerDiv,children:Object(f.jsx)(h.a,{variant:"contained",color:"primary",className:t.buttonConfirmar,onClick:function(e){ae.push("/listavacinados",{grupo:p,vacina:S,lote:I})},children:"Confirmar"})})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{textAlign:"center"},children:function(e){switch(e){case 0:return Object(f.jsxs)(P.a,{className:t.formControl,children:[Object(f.jsx)(y.a,{id:"grupo-select-label",children:"Grupo"}),Object(f.jsx)(A.a,{labelId:"grupo-select-label",id:"grupo-select",value:p,onChange:ce,children:V.map((function(e){return Object(f.jsx)(D.a,{value:e,children:e},e)}))})]});case 1:return Object(f.jsxs)(P.a,{className:t.formControl,children:[Object(f.jsx)(y.a,{id:"vacina-select-label",children:"Vacina"}),Object(f.jsx)(A.a,{labelId:"vacina-select-label",id:"vacina-select",value:S,onChange:ne,children:K.map((function(e){return Object(f.jsx)(D.a,{value:e,children:e},e)}))})]});case 2:return Object(f.jsxs)(P.a,{className:t.formControl,children:[Object(f.jsx)(y.a,{id:"lote-select-label",children:"Lote"}),Object(f.jsx)(A.a,{labelId:"lote-select-label",id:"lote-select",value:I,onChange:oe,children:Q.map((function(e){return Object(f.jsx)(D.a,{value:e,children:e},e)}))})]});default:return"Unknown step"}}(i)}),Object(f.jsxs)("div",{className:t.buttons,children:[Object(f.jsx)(h.a,{disabled:0===i,onClick:function(){s((function(e){return e+-1}))},children:"Voltar"}),Object(f.jsx)(h.a,{disabled:""===te[i],variant:"contained",color:"primary",onClick:function(){s((function(e){return e+1}))},children:"Pr\xf3ximo"})]})]}),Object(f.jsx)("div",{className:t.stepper,children:Object(f.jsx)(w.a,{activeStep:i,children:r.map((function(e,t){return Object(f.jsx)(C.a,Object(k.a)(Object(k.a)({},{}),{},{children:Object(f.jsx)(N.a,{children:e})}),e)}))})})]})},E=a(162),F=a(154),V=a(108),H=a(163),R=Object(v.a)((function(e){return{card:{marginTop:"20px"},buttonDiv:{position:"fixed",bottom:20,textAlign:"center",width:"100%"},buttonAdd:{width:"100px"},listDiv:{paddingBottom:"40px"},list:{maxHeight:"80vh",overflow:"auto"},progress:{color:"blue",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));var W=function(e){var t=R(),a=Object(c.useState)(),n=Object(j.a)(a,2),o=n[0],i=n[1],s=Object(c.useState)(),r=Object(j.a)(s,2),d=r[0],u=r[1],b=Object(c.useState)(),m=Object(j.a)(b,2),v=m[0],g=m[1],S=Object(c.useState)([]),k=Object(j.a)(S,2),w=k[0],C=k[1],N=Object(c.useState)(!1),y=Object(j.a)(N,2),D=y[0],P=y[1],A=Object(l.f)();return Object(c.useEffect)((function(){var t=localStorage.getItem("token");if(t)if(e.location.state){P(!0),i(e.location.state.grupo),u(e.location.state.vacina),g(e.location.state.lote);var a=new URLSearchParams;a.append("token",t),a.append("grupo",e.location.state.grupo),a.append("vacina",e.location.state.vacina),a.append("lote",e.location.state.lote),a.append("type","getListGrupoVacinaLote"),fetch("https://script.google.com/macros/s/AKfycbxkQf1wEUKHZoB6kbYA_YPHOioUhUAPiW2ctj83G83iNhuvTT9eig_-R38xZkui8Fk_OA/exec",{method:"post",redirect:"follow",body:a}).then((function(e){return e.json().then((function(e){console.log(e),P(!1),e.success?C(e.vacinacoesPaciente):(localStorage.removeItem("token"),A.push("/"))}))})).catch((function(e){console.log(e),P(!1),alert("N\xe3o foi poss\xedvel conectar ao servidor.")}))}else A.push("/selecao");else A.push("/")}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{}),Object(f.jsx)($,{backButton:!0,logoutButton:!0}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(p.a,{variant:"h6",children:["Grupo: ",o]}),Object(f.jsxs)(p.a,{variant:"h6",children:["Vacina: ",d]}),Object(f.jsxs)(p.a,{variant:"h6",children:["Lote: ",v]})]}),Object(f.jsx)(E.a,{variant:"middle"}),Object(f.jsxs)("div",{className:t.listDiv,children:[Object(f.jsx)(p.a,{variant:"h6",children:"Registros de vacina\xe7ao"}),Object(f.jsx)(F.a,{dense:!0,className:t.list,children:w.map((function(e){return Object(f.jsx)(V.a,{button:!0,divider:!0,onClick:function(){return t=e[7],void A.push("/vacinar",{grupo:o,vacina:d,lote:v,cpf:t});var t},children:Object(f.jsx)(H.a,{primary:e[8],secondary:"CPF: "+(t=e[7],t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"))})},e[7]);var t}))}),D&&Object(f.jsx)(x.a,{size:24,className:t.progress})]}),Object(f.jsx)("div",{className:t.buttonDiv,children:Object(f.jsx)(h.a,{variant:"contained",color:"primary",className:t.buttonAdd,onClick:function(){A.push("/vacinar",{grupo:o,vacina:d,lote:v})},children:"Adicionar"})})]})},K=a(165),Y=a(75),Z=a.n(Y),z=Object(v.a)((function(e){return{divCenter:{width:"100%",textAlign:"center"},tfCpf:{width:"90%"},button:{marginTop:"20px"},pacienteDiv:{paddingLeft:"20px"},buttonProgress:{color:"blue",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},wrapper:{margin:e.spacing(1),position:"relative"},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var Q=function(e){var t=z(),a=Object(l.f)(),o=n.a.useState(!1),i=Object(j.a)(o,2),s=i[0],r=i[1],d=n.a.useState(!1),u=Object(j.a)(d,2),b=u[0],v=u[1],g=n.a.useState(!1),S=Object(j.a)(g,2),k=S[0],w=S[1],C=n.a.useState(),N=Object(j.a)(C,2),y=N[0],D=N[1],P=n.a.useState(),A=Object(j.a)(P,2),L=A[0],U=A[1],B=n.a.useState(),T=Object(j.a)(B,2),I=T[0],_=T[1],G=n.a.useState(),F=Object(j.a)(G,2),V=F[0],H=F[1],R=n.a.useState(),W=Object(j.a)(R,2),Y=W[0],Q=W[1],q=n.a.useState(),J=Object(j.a)(q,2),M=J[0],X=J[1],ee=n.a.useState(),te=Object(j.a)(ee,2),ae=te[0],ce=te[1],ne=n.a.useState(),oe=Object(j.a)(ne,2),ie=oe[0],se=oe[1],re=n.a.useState(),le=Object(j.a)(re,2),je=le[0],de=le[1],ue=n.a.useState(),be=Object(j.a)(ue,2),pe=be[0],he=be[1],Oe=new Date,me=n.a.useState(!1),ve=Object(j.a)(me,2),xe=ve[0],fe=ve[1],ge=n.a.useState(""),Se=Object(j.a)(ge,2),ke=Se[0],we=Se[1],Ce=n.a.useState(!1),Ne=Object(j.a)(Ce,2),ye=Ne[0],De=Ne[1];Object(c.useEffect)((function(){var t=localStorage.getItem("token"),c=localStorage.getItem("login");t&&c?(he(c),e.location.state?(ce(e.location.state.grupo),se(e.location.state.vacina),de(e.location.state.lote),e.location.state.cpf&&Pe(null,e.location.state.cpf)):a.push("/selecao")):a.push("/")}),[]);var Pe=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a?t=a:(e.preventDefault(),t=e.target.elements.cpf.value.replace(/\D/g,"")),!b){v(!0),w(!1);var c=new URLSearchParams;c.append("cpf",t),c.append("type","getPaciente"),fetch("https://script.google.com/macros/s/AKfycbxkQf1wEUKHZoB6kbYA_YPHOioUhUAPiW2ctj83G83iNhuvTT9eig_-R38xZkui8Fk_OA/exec",{method:"post",redirect:"follow",body:c}).then((function(e){return e.json().then((function(e){console.log(e),e.success?(D(e.paciente[0]),U(e.paciente[1]),_(e.paciente[2]),H(e.paciente[3]),Q(e.dose1[0]),X(e.dose2[0]),r(!0)):w(!0),v(!1)}))}))}},Ae=function(){fe(!0)},Le=function(){fe(!1)},Ue=Object(f.jsxs)("div",{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},className:t.paper,children:[Object(f.jsxs)("h2",{id:"simple-modal-title",children:["Cadastrar ",ke,"\xaa dose"]}),Object(f.jsxs)("div",{id:"simple-modal-description",children:[Object(f.jsxs)("p",{children:["Grupo: ",ae]}),Object(f.jsxs)("p",{children:["Vacina: ",ie]}),Object(f.jsxs)("p",{children:["Lote: ",je]}),Object(f.jsxs)("p",{children:["Data: ",Oe.toLocaleDateString()]}),Object(f.jsx)("div",{className:t.divCenter,children:Object(f.jsx)(h.a,{variant:"contained",color:"primary",className:t.button,disabled:ye,onClick:function(){if(!ye){De(!0);var e=new URLSearchParams;e.append("login",pe),e.append("cpf",y),e.append("time",Oe),e.append("grupo",ae),e.append("vacina",ie),e.append("lote",je),e.append("dose",ke),e.append("type","setVacinacao"),fetch("https://script.google.com/macros/s/AKfycbxkQf1wEUKHZoB6kbYA_YPHOioUhUAPiW2ctj83G83iNhuvTT9eig_-R38xZkui8Fk_OA/exec",{method:"post",redirect:"follow",body:e}).then((function(e){return e.json().then((function(e){console.log(e),e.success?(1===ke?Q([pe,y,Oe,ae,ie,je]):2===ke&&X([pe,y,Oe,ae,ie,je]),Le()):alert("Erro no cadastro"),De(!1),v(!1)}))}))}},children:"Confirmar"})})]})]});return Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{}),Object(f.jsx)($,{backButton:!0,logoutButton:!0}),Object(f.jsxs)("div",{className:t.divCenter,children:[Object(f.jsx)(p.a,{variant:"h6",children:"Buscar paciente"}),Object(f.jsxs)("form",{onSubmit:Pe,children:[Object(f.jsx)(m.a,{className:t.tfCpf,id:"cpf",label:"CPF",name:"cpf",inputProps:{maxLength:14},error:k,helperText:k?"CPF n\xe3o encontrado.":"",onChange:function(e){e.target.value=e.target.value.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}}),Object(f.jsxs)("div",{className:t.wrapper,children:[Object(f.jsx)(h.a,{variant:"contained",color:"primary",className:t.button,startIcon:Object(f.jsx)(Z.a,{}),disabled:b,type:"submit",children:"Buscar"}),b&&Object(f.jsx)(x.a,{size:24,className:t.buttonProgress})]})]})]}),s?Object(f.jsxs)("div",{className:t.pacienteDiv,children:[Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Nome: ",L]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Data de nascimento: ",I]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Sexo: ",V]}),Object(f.jsx)(E.a,{}),Object(f.jsx)(p.a,{variant:"h6",children:"1\xaa Dose"}),Y?Object(f.jsxs)("div",{children:[Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Data: ",new Date(Y[2]).toLocaleDateString()]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Grupo: ",Y[3]]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Vacina: ",Y[4]]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Lote: ",Y[5]]})]}):Object(f.jsx)("div",{className:t.divCenter,children:Object(f.jsx)(h.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){we(1),Ae()},children:"Cadastrar 1\xaa Dose"})}),Object(f.jsx)(E.a,{}),Object(f.jsx)(p.a,{variant:"h6",children:"2\xaa Dose"}),M?Object(f.jsxs)("div",{children:[Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Data: ",new Date(M[2]).toLocaleDateString()]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Grupo: ",M[3]]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Vacina: ",M[4]]}),Object(f.jsxs)(p.a,{variant:"subtitle1",children:["Lote: ",M[5]]})]}):Object(f.jsx)("div",{className:t.divCenter,children:Object(f.jsx)(h.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){we(2),Ae()},children:"Cadastrar 2\xaa Dose"})})]}):null,Object(f.jsx)(K.a,{open:xe,onClose:Le,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Ue})]})},q=function(){return Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/",component:S,exact:!0}),Object(f.jsx)(l.a,{path:"/selecao",component:G}),Object(f.jsx)(l.a,{path:"/listavacinados",component:W}),Object(f.jsx)(l.a,{path:"/vacinar",component:Q})]})};i.a.render(Object(f.jsx)(r.a,{children:Object(f.jsx)(q,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),s()},93:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.12b669a0.chunk.js.map